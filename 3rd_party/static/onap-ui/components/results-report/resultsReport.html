<!--
 Copyright (c) 2019 opnfv.

 All rights reserved. This program and the accompanying materials
 are made available under the terms of the Apache License, Version 2.0
 which accompanies this distribution, and is available at
 http://www.apache.org/licenses/LICENSE-2.0
-->

<div class="container-fluid common-main-container">
  <h3>Test Run Results</h3>

  <div ng-show="ctrl.testId"  class="container-fluid">
    <div class="row">
      <div class="pull-left">
        <div class="test-report">
          <strong>ONAP Version:</strong> {{ctrl.version}}<br>
          <strong>Test ID:</strong> {{ctrl.testId}}<br>
        </div>
      </div>
    </div>
  </div>

  <strong>Total: {{ctrl.statistics.total}}, Pass: {{ ctrl.statistics.pass}}, Rate: {{ ctrl.statistics.pass / ctrl.statistics.total * 100 | number:2 }}%</strong><br>
  <strong>Mandatory Total: {{ctrl.statistics.mandatory.total}}, Pass: {{ ctrl.statistics.mandatory.pass }}, Rate: {{ ctrl.statistics.mandatory.pass / ctrl.statistics.mandatory.total * 100 | number:2 }}%</strong><br>
  <strong>Optional Total: {{ctrl.statistics.optional.total}}, Pass: {{ ctrl.statistics.optional.pass }}, Rate: {{ ctrl.statistics.optional.pass / ctrl.statistics.optional.total * 100 | number:2 }}%</strong><br>

  <div>
    <hr>
    <h4>Test Result Overview</h4>
    <uib-accordion close-others=false>
      <!-- The ng-repeat is used to pass in a local variable to the template. -->
      <ng-include
        src="ctrl.detailsTemplate"
        onload="isOpen = true">
      </ng-include>
      <br>
    </uib-accordion>
  </div>
</div>
